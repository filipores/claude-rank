# claude-rank

Gamify your Claude Code usage. Track XP, level up, earn achievements, and maintain streaks â€” all from your terminal.

```
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ CLAUDE RANK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚                                                â”‚
â”‚   Level 16 - Context Master                    â”‚
â”‚   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 4,916/8,951 XP        â”‚
â”‚   Total: 55.3K XP                              â”‚
â”‚                                                â”‚
â”‚   ğŸ”¥ Streak: 7 days  |  â„ï¸  Freezes: 2/3        â”‚
â”‚   ğŸ“Š Sessions: 1,292  |  ğŸ’¬ Messages: 421.5K   â”‚
â”‚                                                â”‚
â”‚   Recent Achievements:                         â”‚
â”‚   âœ… Centurion (Complete 100 sessions)         â”‚
â”‚   âœ… Night Owl (Session between midnight-5 AM) â”‚
â”‚                                                â”‚
â”‚   Almost There:                                â”‚
â”‚   â³ Iron Will: 19/30 (63%)                    â”‚
â”‚   â³ On Fire: 5/7 (71%)                        â”‚
â”‚                                                â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
```

## Features

- **XP System** â€” Earn XP from sessions, messages, tool calls, and more
- **50 Levels, 10 Tiers** â€” From *Prompt Novice* to *Omega Coder*
- **10 Achievements** â€” Common to Legendary rarity
- **Streak Tracking** â€” Daily streaks with freezes and grace periods
- **Anti-Gaming** â€” Daily caps, diminishing returns, minimum thresholds
- **Privacy-First** â€” All data stays local, reads from `~/.claude/`
- **Claude Code Status Line** â€” See your rank while you code
- **SessionStart Hook** â€” Claude knows your level

## Install

```bash
# Clone and install
git clone https://github.com/filipores/claude-rank.git
cd claude-rank
pip install -e .

# First sync â€” parses your Claude Code data
claude-rank sync
```

Requires Python 3.11+ and [Claude Code](https://claude.ai/claude-code).

## Usage

```bash
claude-rank              # Dashboard (default)
claude-rank sync         # Parse Claude Code data and calculate XP
claude-rank stats        # Detailed statistics
claude-rank achievements # All achievements with progress
```

## Claude Code Integration

claude-rank can integrate directly into your Claude Code experience:

### Status Line (see your rank while prompting)

Add to `~/.claude/settings.json`:

```json
{
  "statusLine": {
    "type": "command",
    "command": "~/.claude/statusline-rank.sh"
  }
}
```

Shows: `Lv16 Context Master [#####-----] 55.3K XP | Opus 4.6 42% ctx | $1.23`

### SessionStart Hook (Claude knows your rank)

Add to `~/.claude/settings.json`:

```json
{
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/inject-rank.sh"
          }
        ]
      }
    ]
  }
}
```

Claude sees your level at the start of every session and can reference it.

### Setup Scripts

Both scripts read from `~/.claude/rank.json` (generated by `claude-rank sync`):

<details>
<summary>statusline-rank.sh</summary>

```bash
#!/bin/bash
input=$(cat)
MODEL=$(echo "$input" | jq -r '.model.display_name // "unknown"')
PCT=$(echo "$input" | jq -r '.context_window.used_percentage // 0' | cut -d. -f1)
COST=$(echo "$input" | jq -r '.cost.total_cost_usd // 0')

RANK_FILE="$HOME/.claude/rank.json"
if [ -f "$RANK_FILE" ]; then
    LEVEL=$(jq -r '.level // 1' "$RANK_FILE")
    TITLE=$(jq -r '.title // "Prompt Novice"' "$RANK_FILE")
    XP_IN=$(jq -r '.xp_in_level // 0' "$RANK_FILE")
    XP_NEXT=$(jq -r '.xp_for_next // 100' "$RANK_FILE")
    STREAK=$(jq -r '.current_streak // 0' "$RANK_FILE")
    TOTAL_XP=$(jq -r '.total_xp // 0' "$RANK_FILE")

    if [ "$XP_NEXT" -gt 0 ] 2>/dev/null; then
        FILLED=$((XP_IN * 10 / XP_NEXT))
    else
        FILLED=10
    fi
    [ "$FILLED" -gt 10 ] && FILLED=10
    EMPTY=$((10 - FILLED))
    BAR=$(printf "%${FILLED}s" | tr ' ' '#')$(printf "%${EMPTY}s" | tr ' ' '-')

    if [ "$TOTAL_XP" -ge 1000 ]; then
        XP_FMT="$(echo "scale=1; $TOTAL_XP / 1000" | bc)K"
    else
        XP_FMT="$TOTAL_XP"
    fi

    STREAK_STR=""
    [ "$STREAK" -gt 0 ] && STREAK_STR=" | Streak: ${STREAK}d"

    echo "Lv${LEVEL} ${TITLE} [${BAR}] ${XP_FMT} XP${STREAK_STR} | ${MODEL} ${PCT}% ctx | \$$(printf '%.2f' "$COST")"
else
    echo "${MODEL} | ${PCT}% ctx | \$$(printf '%.2f' "$COST")"
fi
```

</details>

<details>
<summary>inject-rank.sh</summary>

```bash
#!/bin/bash
RANK_FILE="$HOME/.claude/rank.json"
if [ -f "$RANK_FILE" ]; then
    LEVEL=$(jq -r '.level // 1' "$RANK_FILE")
    TITLE=$(jq -r '.title // "Prompt Novice"' "$RANK_FILE")
    TOTAL_XP=$(jq -r '.total_xp // 0' "$RANK_FILE")
    STREAK=$(jq -r '.current_streak // 0' "$RANK_FILE")
    ACHIEVEMENTS=$(jq -r '.achievements_unlocked // 0' "$RANK_FILE")
    TOTAL_ACH=$(jq -r '.total_achievements // 25' "$RANK_FILE")
    XP_IN=$(jq -r '.xp_in_level // 0' "$RANK_FILE")
    XP_NEXT=$(jq -r '.xp_for_next // 100' "$RANK_FILE")
    [ "$XP_NEXT" -gt 0 ] 2>/dev/null && PCT=$((XP_IN * 100 / XP_NEXT)) || PCT=100
    echo "User Rank: Level ${LEVEL} ${TITLE} (${TOTAL_XP} XP total, ${PCT}% to next level). Streak: ${STREAK} days. Achievements: ${ACHIEVEMENTS}/${TOTAL_ACH} unlocked."
fi
exit 0
```

</details>

## Tier System

| Tier | Levels | Name | Color |
|------|--------|------|-------|
| 1 | 1-5 | Prompt Novice | Grey |
| 2 | 6-10 | Code Apprentice | Green |
| 3 | 11-15 | Bug Slayer | Blue |
| 4 | 16-20 | Context Master | Purple |
| 5 | 21-25 | Refactor Sage | Indigo |
| 6 | 26-30 | Pipeline Architect | Gold |
| 7 | 31-35 | Token Whisperer | Platinum |
| 8 | 36-40 | Neural Commander | Cyan |
| 9 | 41-45 | Singularity Vanguard | Magenta |
| 10 | 46-50 | Omega Coder | Obsidian+Gold |

## XP System

| Action | XP |
|--------|-----|
| Session completed | 10 |
| Message sent | 1 |
| Tool call | 2 |
| Unique project/day | 5 |
| File edit | 3 |
| Commit | 5 |

**Multipliers**: 7-day streak (1.25x), 14-day (1.5x), 30-day (2.0x), first session of day (1.5x).

**Anti-gaming**: Daily cap 800 XP, diminishing returns after 500, min 5 tool calls per session.

## Achievements

| Achievement | Condition | Rarity |
|-------------|-----------|--------|
| Hello, World | First session | Common |
| Thousand Voices | 1,000 messages | Common |
| Night Owl | Session midnight-5 AM | Common |
| Early Bird | Session before 7 AM | Common |
| On Fire | 7-day streak | Common |
| Polyglot | 5 different projects | Common |
| Centurion | 100 sessions | Rare |
| Tool Master | 10,000 tool calls | Rare |
| Marathon Runner | 100+ message session | Rare |
| Iron Will | 30-day streak | Rare |

## How It Works

claude-rank reads Claude Code's local data files:

- `~/.claude/stats-cache.json` â€” Sessions, messages, tool calls, hourly activity
- `~/.claude/history.jsonl` â€” Conversation history with timestamps and projects
- `~/.claude/projects/*/` â€” Session-level tool usage data

All data stays local. Nothing is sent anywhere.

## Development

```bash
git clone https://github.com/filipores/claude-rank.git
cd claude-rank
pip install -e .

# Run tests (216 tests)
python3 -m pytest tests/ -v

# Lint
python3 -m ruff check src/ tests/
```

## Roadmap

- [ ] **Auto-sync via hooks** â€” PostToolUse hook to track XP in real-time
- [ ] **More achievements** â€” 20+ additional achievements (Code Surgeon, Zero Defect, The Inception...)
- [ ] **Prestige system** â€” Reset at Level 50 with permanent star badges
- [ ] **GitHub README badge** â€” Dynamic SVG showing your rank
- [ ] **"Claude Code Wrapped"** â€” Monthly/yearly stats summary
- [ ] **MCP Server** â€” Claude can query your stats mid-conversation
- [ ] **Team leaderboards** â€” Opt-in competitive rankings
- [ ] **Seasonal events** â€” Quarterly themes with bonus XP

## License

MIT
